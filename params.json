{"name":"Android Snippets","tagline":"Snippets for Android developers","body":"  * [ADB](#adb-android-debug-bridge)\r\n    * [list of devices](#list-of-devices)\r\n    * [screen capture](#screen-capture)\r\n    * [screen record](#screen-record)\r\n    * [run monkey](#run-monkey)\r\n    * [sqlite](#sqlite)\r\n    * [handy commands](#handy-commands)\r\n  * [Animation](#animation)\r\n    * [flash](#flash)\r\n    * [nope](#nope)\r\n    * [pulse](#pulse)\r\n    * [spring](#spring)\r\n    * [tada](#tada)\r\n  * [Application](#application)\r\n    * [application name](#applicatio-nname)\r\n    * [version name](#version-name)\r\n    * [version code](#version-code)\r\n    * [kill background processes](#kill-background-processes)\r\n    * [restart](#restart)\r\n  * [Build](#build)\r\n    * [OS version](#os-version)\r\n    * [has Cupcake](#has-cupcake)\r\n    * [has Donut](#has-donut)\r\n    * [has Eclair](#has-eclair)\r\n    * [has Froyo](#has-froyo)\r\n    * [has Gingerbread](#has-gingerbread)\r\n    * [has Honeycomb](#has-honeycomb)\r\n    * [has Ice Cream Sandwich](#has-ice-cream-sandwich)\r\n    * [has Jelly Bean](#has-jelly-bean)\r\n    * [has KitKat](#has-kitkat)\r\n  * [Device](#device)\r\n    * [Device name](#device-name)\r\n    * [SDK version](#sdk-version)\r\n    * [Phone number](#phone-number)\r\n    * [has Camera](#has-camera)\r\n    * [is emulator](#is-emulator)\r\n  * [InputFilter](#inputfilter)\r\n    * [All Lower](#all-lower)\r\n    * [Restricted chars](#restricted-chars)\r\n  * [Intent](#intent)\r\n    * [is Intent available](#is-intent-available)\r\n    * [browse](#browse)\r\n    * [share](#share)\r\n    * [dial](#dial)\r\n    * [call](#call)\r\n    * [sms](#sms)\r\n    * [mms](#mms)\r\n    * [email](#email)\r\n    * [maps](#maps)\r\n    * [navigation](#navigation)\r\n    * [install](#install)\r\n    * [uninstall](#uninstall)\r\n    * [playStore](#playstore)\r\n    * [select contact](#select-contact)\r\n    * [take picture](#take-picture)\r\n    * [take video](#take-video)\r\n    * [wifi settings](#wifi-settings)\r\n  * [Logcat](#logcat)\r\n    * [clear](#clear)\r\n    * [capture](#capture)\r\n  * [Network](#network)\r\n    * [is online](#is-online)\r\n    * [enable wifi](#enable-wifi)\r\n  * [UI](#ui)\r\n    * [dp2px](#dp2px)\r\n    * [px2dp](#px2dp)\r\n    * [show soft keyboard](#show-soft-keyboard)\r\n    * [hide soft keyboard](#hide-soft-keyboard)\r\n    * [keep screen on](#keep-screen-on)\r\n    * [colored drawable](#colored-drawable)\r\n    * [capture view](#capture-view)\r\n    * [capture layout](#capture-layout)\r\n    * [increase hit rect](#increase-hit-rect)\r\n  * [Others](#others)\r\n    * [bytes2size](#bytes2size)\r\n    * [small indeterminate progress bar](#small-indeterminate-progress-bar)\r\n    * [ActionBar height](#actionbar-height)\r\n    * [ListView padding](#listview-padding)\r\n  * [Online tools](#online-tools)\r\n\r\n\r\nADB (Android Debug Bridge)\r\n--------------------------\r\n\r\n### list of devices\r\n\r\n```bash\r\n#!/bin/bash\r\nif [[ ! $PATH_TO_ADB ]]; then\r\n\tPATH_TO_ADB=`which adb`\r\nfi\r\n\r\nif [[ ! $PATH_TO_ADB ]]; then\r\n\tif [[ ! $ANDROID_HOME ]]; then\r\n\t\techo \"Failed to determine path to adb; consider setting ANDROID_HOME to your SDK directory or PATH_TO_ADB to the path to ADB\"\r\n\t\texit 1\r\n\tfi\r\n\tPATH_TO_ADB=\"$ANDROID_HOME/platform-tools/adb\"\r\nfi\r\n\r\ndevices=`$PATH_TO_ADB devices | grep -E \"device\\$\" | cut -f1`\r\n\r\nfor device in $devices; do\r\n\tmodel=$($PATH_TO_ADB -s $device shell getprop ro.product.model | tr -d '\\r')\r\n\tversion=$($PATH_TO_ADB -s $device shell getprop ro.build.version.release | tr -d '\\r')\r\n\tsdk=$($PATH_TO_ADB -s $device shell getprop ro.build.version.sdk | tr -d '\\r')\r\n\r\n\tprintf '%-20s [%5s ~ %2s]: %-20s \\n' \"$device\" \"$version\" \"$sdk\" \"$model\"\r\ndone\r\n```\r\n\r\n### screen capture\r\n\r\n```bash\r\nname=\"/sdcard/`date +%Y.%m.%d\\ -\\ %H.%M.%S`.png\" && \\\r\n\tadb shell screencap -p $name && \\\r\n\tadb pull $name && \\\r\n\tadb shell rm $name\r\n```\r\n\r\n### screen record\r\n\r\n * **bit rate**  `--bit-rate <rate>`\r\n * **size**  `--size <widthXheight>`\r\n * **time limit**  `--time-limit <time>`\r\n\r\n```bash\r\nname=\"/sdcard/`date +%Y.%m.%d\\ -\\ %H.%M.%S`.mp4\" && \\\r\n\tadb shell screenrecord --bit-rate 20000000 --time-limit 30 $name && \\\r\n\tadb pull $name && \\\r\n\tadb shell rm $name\r\n```\r\n\r\n### run monkey\r\n\r\n * **verbose**  `-v`\r\n * **package name**  `-p <your.package.name>`\r\n * **throttling**  `--throttle <milliseconds>`\r\n\r\n```bash\r\nadb shell monkey -p your.package.name -v 500\r\n```\r\n\r\n### sqlite\r\n\r\n```bash\r\nadb shell\r\n$ sqlite3 /data/data/your.package.name/databases/your-database.db\r\n\tSQLite version 3.3.12\r\n\tEnter \".help\" for instructions\r\n\t.... enter commands, then quit...\r\nsqlite> .exit \r\n```\r\n\r\n### handy commands \r\n\r\n```bash\r\n# install apk\r\nadb install -r app.apk\r\n\r\n# uninstall apk\r\nadb uninstall your.package.name\r\n\r\n# start activity\r\nadb shell am start -n your.package.name/.YourActivity\r\n\r\n# start scheme intent\r\nadb shell am start -W -a android.intent.action.VIEW -d \"yourscheme://something\" your.package.name\r\n\r\n# installed packages\r\nadb shell pm list packages -f\r\n\r\n# enable CheckJNI (0 to disable)\r\nadb shell setprop debug.checkjni 1\r\n\r\n# send broadcast (--es | --esn | --ez | --ei | --el | --ef | --eu | --eia | --ela | --efa)\r\nadb shell am broadcast -a your.custom.ACTION -n your.package.name/.YourBroadcastReceiver -e \"key\" \"value\"\r\n\r\n```\r\n\r\n\r\nAnimation\r\n---------\r\n\r\n### flash\r\n\r\n```java\r\npublic static ObjectAnimator flash(final View view, final float alphaFactor) {\r\n\tfinal PropertyValuesHolder pvhAlpha = PropertyValuesHolder.ofKeyframe(android.view.View.ALPHA, Keyframe.ofFloat(0f, 1f), Keyframe.ofFloat(.25f, alphaFactor), Keyframe.ofFloat(0.5f, 1f), Keyframe.ofFloat(.75f, alphaFactor), Keyframe.ofFloat(1f, 1f));\r\n\treturn ObjectAnimator.ofPropertyValuesHolder(view, pvhAlpha).setDuration(800);\r\n}\r\n```\r\n\r\n### nope\r\n\r\nIntroduced by [@cyrilmottier](https://github.com/cyrilmottier) on [Google+](https://plus.google.com/+CyrilMottier/posts/FABaJhRMCuy)\r\n\r\n```java\r\npublic static ObjectAnimator nope(final View view, final int delta) {\r\n\tfinal PropertyValuesHolder pvhTranslateX = PropertyValuesHolder.ofKeyframe(View.TRANSLATION_X, Keyframe.ofFloat(0f, 0),\r\n\t\t\tKeyframe.ofFloat(.10f, -delta), Keyframe.ofFloat(.26f, delta), Keyframe.ofFloat(.42f, -delta), Keyframe.ofFloat(.58f, delta),\r\n\t\t\tKeyframe.ofFloat(.74f, -delta), Keyframe.ofFloat(.90f, delta), Keyframe.ofFloat(1f, 0f));\r\n\treturn ObjectAnimator.ofPropertyValuesHolder(view, pvhTranslateX).setDuration(500);\r\n}\r\n```\r\n\r\n### pulse\r\n\r\n```java\r\npublic static ObjectAnimator pulse(final View view, final float pulseFactor) {\r\n\tfinal PropertyValuesHolder pvhScaleX = PropertyValuesHolder.ofKeyframe(android.view.View.SCALE_X, Keyframe.ofFloat(0f, 1f), Keyframe.ofFloat(.5f, pulseFactor * 1f), Keyframe.ofFloat(1f, 1f));\r\n\tfinal PropertyValuesHolder pvhScaleY = PropertyValuesHolder.ofKeyframe(android.view.View.SCALE_Y, Keyframe.ofFloat(0f, 1f), Keyframe.ofFloat(.5f, pulseFactor * 1f), Keyframe.ofFloat(1f, 1f));\r\n\treturn ObjectAnimator.ofPropertyValuesHolder(view, pvhScaleX, pvhScaleY).setDuration(500);\r\n}\r\n```\r\n\r\n### spring\r\n\r\n```java\r\npublic static ObjectAnimator spring(final View view, final float springFactor) {\r\n\tfinal PropertyValuesHolder pvhScaleX = PropertyValuesHolder.ofKeyframe(android.view.View.SCALE_X, Keyframe.ofFloat(0f, 1f),\r\n\t\t\tKeyframe.ofFloat(0.25f, springFactor * 1.35f), Keyframe.ofFloat(0.5f, 0.65f / springFactor),\r\n\t\t\tKeyframe.ofFloat(0.75f, springFactor * 1.15f), Keyframe.ofFloat(1f, 1f));\r\n\tfinal PropertyValuesHolder pvhScaleY = PropertyValuesHolder.ofKeyframe(android.view.View.SCALE_Y, Keyframe.ofFloat(0f, 1f),\r\n\t\t\tKeyframe.ofFloat(0.25f, 0.65f / springFactor), Keyframe.ofFloat(0.5f, springFactor * 1.35f),\r\n\t\t\tKeyframe.ofFloat(0.75f, 0.85f / springFactor), Keyframe.ofFloat(1f, 1f));\r\n\treturn ObjectAnimator.ofPropertyValuesHolder(view, pvhScaleX, pvhScaleY).setDuration(600);\r\n}\r\n```\r\n\r\n### tada\r\n\r\nIntroduced by [@cyrilmottier](https://github.com/cyrilmottier) on [Google+](https://plus.google.com/+CyrilMottier/posts/FABaJhRMCuy)\r\n\r\n```java\r\npublic static ObjectAnimator tada(final View view, final float shakeFactor) {\r\n\tfinal PropertyValuesHolder pvhScaleX = PropertyValuesHolder.ofKeyframe(View.SCALE_X, Keyframe.ofFloat(0f, 1f),\r\n\t\t\tKeyframe.ofFloat(.1f, .9f), Keyframe.ofFloat(.2f, .9f), Keyframe.ofFloat(.3f, 1.1f), Keyframe.ofFloat(.4f, 1.1f),\r\n\t\t\tKeyframe.ofFloat(.5f, 1.1f), Keyframe.ofFloat(.6f, 1.1f), Keyframe.ofFloat(.7f, 1.1f), Keyframe.ofFloat(.8f, 1.1f),\r\n\t\t\tKeyframe.ofFloat(.9f, 1.1f), Keyframe.ofFloat(1f, 1f));\r\n\r\n\tfinal PropertyValuesHolder pvhScaleY = PropertyValuesHolder.ofKeyframe(View.SCALE_Y, Keyframe.ofFloat(0f, 1f),\r\n\t\t\tKeyframe.ofFloat(.1f, .9f), Keyframe.ofFloat(.2f, .9f), Keyframe.ofFloat(.3f, 1.1f), Keyframe.ofFloat(.4f, 1.1f),\r\n\t\t\tKeyframe.ofFloat(.5f, 1.1f), Keyframe.ofFloat(.6f, 1.1f), Keyframe.ofFloat(.7f, 1.1f), Keyframe.ofFloat(.8f, 1.1f),\r\n\t\t\tKeyframe.ofFloat(.9f, 1.1f), Keyframe.ofFloat(1f, 1f));\r\n\r\n\tfinal PropertyValuesHolder pvhRotate = PropertyValuesHolder.ofKeyframe(View.ROTATION, Keyframe.ofFloat(0f, 0f),\r\n\t\t\tKeyframe.ofFloat(.1f, -3f * shakeFactor), Keyframe.ofFloat(.2f, -3f * shakeFactor), Keyframe.ofFloat(.3f, 3f * shakeFactor),\r\n\t\t\tKeyframe.ofFloat(.4f, -3f * shakeFactor), Keyframe.ofFloat(.5f, 3f * shakeFactor), Keyframe.ofFloat(.6f, -3f * shakeFactor),\r\n\t\t\tKeyframe.ofFloat(.7f, 3f * shakeFactor), Keyframe.ofFloat(.8f, -3f * shakeFactor), Keyframe.ofFloat(.9f, 3f * shakeFactor),\r\n\t\t\tKeyframe.ofFloat(1f, 0));\r\n\r\n    return ObjectAnimator.ofPropertyValuesHolder(view, pvhScaleX, pvhScaleY, pvhRotate).setDuration(1000);\r\n}\r\n```\r\n\r\nApplication\r\n-----------\r\n\r\n### application name\r\n\r\n```java\r\npublic static String getApplicationName(final Context context) {\r\n\ttry {\r\n\t\treturn context.getString(context.getPackageManager().getPackageInfo(context.getPackageName(), 0).applicationInfo.labelRes);\r\n\t} catch (Exception e) {\r\n\t\tLog.e(TAG, \"Failed to get application name\", e);\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n### version name\r\n\r\n```java\r\npublic static String getVersionName(final Context context) {\r\n\ttry {\r\n\t\treturn context.getPackageManager().getPackageInfo(context.getPackageName(), 0).versionName;\r\n\t} catch (Exception e) {\r\n\t\tLog.e(TAG, \"Failed to get application version number\", e);\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n### version code\r\n\r\n```java\r\npublic static String getVersionCode(final Context context) {\r\n\ttry {\r\n\t\treturn Integer.toString(context.getPackageManager().getPackageInfo(context.getPackageName(), 0).versionCode);\r\n\t} catch (Exception e) {\r\n\t\tLog.e(TAG, \"Failed to get application version code\", e);\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n### kill background processes\r\n\r\n```xml\r\n<uses-permission android:name=\"android.permission.KILL_BACKGROUND_PROCESSES\" />\r\n```\r\n\r\n```java\r\npublic static void killBackgroundProcesses(final Context context, final String packageName) {\r\n\t((ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE)).killBackgroundProcesses(packageName);\r\n}\r\n```\r\n\r\n### restart\r\n\r\n```java\r\npublic static void restart(final Activity activity) {\r\n\tfinal Intent intent = activity.getPackageManager().getLaunchIntentForPackage(activity.getPackageName());\r\n\tfinal intent.setData(activity.getIntent().getData());\r\n\tfinal PendingIntent pi = PendingIntent.getActivity(activity, 1111, intent, PendingIntent.FLAG_CANCEL_CURRENT);\r\n\tfinal AlarmManager am = (AlarmManager) activity.getSystemService(Context.ALARM_SERVICE);\r\n\tam.set(AlarmManager.RTC, System.currentTimeMillis() + 100, pi);\r\n\tandroid.os.Process.killProcess(android.os.Process.myPid());\r\n}\r\n```\r\n\r\nBuild\r\n-----\r\n\r\n### OS version\r\n\r\n```java\r\npublic static String getOsVersion() {\r\n\treturn android.os.Build.VERSION.RELEASE;\r\n}\r\n```\r\n\r\n### has Cupcake\r\n\r\n```java\r\npublic static boolean hasCupcake() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.CUPCAKE;\r\n}\r\n```\r\n\r\n### has Donut\r\n\r\n```java\r\npublic static boolean hasDonut() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.DONUT;\r\n}\r\n```\r\n\r\n### has Eclair\r\n\r\n```java\r\npublic static boolean hasEclair() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.ECLAIR;\r\n}\r\n```\r\n\r\n### has Froyo\r\n\r\n```java\r\npublic static boolean hasFroyo() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.FROYO;\r\n}\r\n```\r\n\r\n### has Gingerbread\r\n\r\n```java\r\npublic static boolean hasGingerbread() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.GINGERBREAD;\r\n}\r\n\r\npublic static boolean hasGingerbreadMR1() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.GINGERBREAD_MR1;\r\n}\r\n```\r\n\r\n### has Honeycomb\r\n\r\n```java\r\npublic static boolean hasHoneycomb() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.HONEYCOMB;\r\n}\r\n\r\npublic static boolean hasHoneycombMR1() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.HONEYCOMB_MR1;\r\n}\r\n\r\npublic static boolean hasHoneycombMR2() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.HONEYCOMB_MR2;\r\n}\r\n```\r\n\r\n### has Ice Cream Sandwich\r\n\r\n```java\r\npublic static boolean hasIceCreamSandwich() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.ICE_CREAM_SANDWICH;\r\n}\r\n\r\npublic static boolean hasIceCreamSandwichMR1() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.ICE_CREAM_SANDWICH_MR1;\r\n}\r\n```\r\n\r\n### has Jelly Bean\r\n\r\n```java\r\npublic static boolean hasJellyBean() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.JELLY_BEAN;\r\n}\r\n\r\npublic static boolean hasJellyBeanMR1() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.JELLY_BEAN_MR1;\r\n}\r\n\r\npublic static boolean hasJellyBeanMR2() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;\r\n}\r\n```\r\n\r\n### has KitKat\r\n\r\n```java\r\npublic static boolean hasKitKat() {\r\n\treturn android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.KITKAT;\r\n}\r\n```\r\n\r\nDevice\r\n------\r\n\r\n### Device name\r\n\r\n```java\r\npublic static String getDeviceName() {\r\n\tfinal String manufacturer = android.os.Build.MANUFACTURER;\r\n\tfinal String model = android.os.Build.MODEL;\r\n\treturn model.startsWith(manufacturer) ? model : manufacturer + \" \" + model;\r\n}\r\n```\r\n\r\n### SDK version\r\n\r\n```java\r\npublic static int getSdkVersion() {\r\n\ttry {\r\n\t\treturn android.os.Build.VERSION.class.getField(\"SDK_INT\").getInt(null);\r\n\t} catch (Exception e) {\r\n\t\tLog.e(TAG, \"Failed to get SDK version\", e);\r\n\t}\r\n\treturn 0;\r\n}\r\n```\r\n\r\n### Phone number\r\n\r\n```xml\r\n<uses-permission android:name=\"android.permission.READ_PHONE_STATE\" />\r\n```\r\n\r\n```java\r\npublic static String getPhoneNumber(final Context context) {\r\n\treturn ((TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE)).getLine1Number();\r\n}\r\n```\r\n\r\n### has Camera\r\n\r\n```java\r\npublic static boolean hasCamera(final Context context) {\r\n\tfinal PackageManager pm = context.getPackageManager();\r\n\treturn pm.hasSystemFeature(PackageManager.FEATURE_CAMERA) || pm.hasSystemFeature(PackageManager.FEATURE_CAMERA_FRONT);\r\n}\r\n```\r\n\r\n### is emulator\r\n\r\n```java\r\npublic static boolean isEmulator() {\r\n\treturn android.os.Build.MODEL.equals(\"sdk\") || android.os.Build.MODEL.equals(\"google_sdk\");\r\n}\r\n```\r\n\r\nInputFilter\r\n-----------\r\n\r\n### All Lower\r\n\r\n```java\r\npublic class AllLower implements InputFilter {\r\n\t@Override\r\n\tpublic CharSequence filter(final CharSequence source, final int start, final int end, final Spanned dest, final int dstart, final int dend) {\r\n\t\tfor (int i = start; i < end; i++) {\r\n\t\t\tif (Character.isUpperCase(source.charAt(i))) {\r\n\t\t\t\tfinal char[] v = new char[end - start];\r\n\t\t\t\tTextUtils.getChars(source, start, end, v, 0);\r\n\t\t\t\tfinal String s = new String(v).toLowerCase();\r\n\t\t\t\tif (source instanceof Spanned) {\r\n\t\t\t\t\tfinal SpannableString sp = new SpannableString(s);\r\n\t\t\t\t\tTextUtils.copySpansFrom((Spanned) source, start, end, null, sp, 0);\r\n\t\t\t\t\treturn sp;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn s;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n### Restricted chars\r\n\r\n```java\r\npublic class RestrictedChars implements android.text.InputFilter {\r\n\r\n\tprivate char[] restrictedChars;\r\n\r\n\tpublic RestrictedChars(char... acceptedChars) {\r\n\t\tthis.restrictedChars = acceptedChars;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic CharSequence filter(final CharSequence source, final int start, int end, final Spanned dest, final int dstart, final int dend) {\r\n\t\tint i;\r\n\t\tfor (i = start; i < end; i++) {\r\n\t\t\tif (!ok(restrictedChars, source.charAt(i))) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (i == end) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (end - start == 1) {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\r\n\t\tfinal SpannableStringBuilder filtered = new SpannableStringBuilder(source, start, end);\r\n\t\ti -= start;\r\n\t\tend -= start;\r\n\r\n\t\tfor (int j = end - 1; j >= i; j--) {\r\n\t\t\tif (!ok(restrictedChars, source.charAt(j))) {\r\n\t\t\t\tfiltered.delete(j, j + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filtered;\r\n\t}\r\n\r\n\tprotected boolean ok(char[] accept, char c) {\r\n\t\tfor (int i = accept.length - 1; i >= 0; i--) {\r\n\t\t\tif (accept[i] == c) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\nIntent\r\n------\r\n\r\n### is Intent available\r\n\r\n```java\r\npublic static boolean isIntentAvailable(final Context context, final Intent intent) {\r\n\treturn !context.getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY).isEmpty();\r\n}\r\n```\r\n\r\n### browse\r\n\r\n```java\r\npublic static Intent browse(final Context context, final String url) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n}\r\n```\r\n\r\n### share\r\n\r\n```java\r\npublic static Intent share(final Context context, final String subject, final String message) {\r\n\tfinal Intent intent = new Intent(Intent.ACTION_SEND);\r\n\tintent.setType(\"text/plain\");\r\n\tintent.putExtra(Intent.EXTRA_TEXT, message);\r\n\tintent.putExtra(Intent.EXTRA_SUBJECT, subject);\r\n\tintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### dial\r\n\r\n```java\r\npublic static Intent dial(final Context context, final String number) {\r\n\treturn new Intent(Intent.ACTION_DIAL, Uri.parse(\"tel:\" + number));\r\n}\r\n```\r\n\r\n### call\r\n\r\n```xml\r\n<uses-permission android:name=\"android.permission.CALL_PHONE\" />\r\n```\r\n\r\n```java\r\npublic static Intent call(final Context context, final String number) {\r\n\treturn new Intent(Intent.ACTION_CALL, Uri.parse(\"tel:\" + number));\r\n}\r\n```\r\n\r\n### sms\r\n\r\n```java\r\npublic static Intent sms(final Context context, final String number, final String message) {\r\n\tfinal Uri uri = Uri.parse(\"smsto:\" + number);\r\n\tfinal Intent intent = new Intent(Intent.ACTION_SENDTO, uri);\r\n\tintent.putExtra(\"sms_body\", message);\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### mms\r\n\r\n```java\r\npublic static Intent mms(final Context context, final String number, final String subject, final String message, final Uri attachment) {\r\n\tfinal Uri uri = Uri.parse(\"mmsto:\" + number);\r\n\tfinal Intent intent = new Intent(Intent.ACTION_SENDTO, uri);\r\n\tintent.putExtra(\"subject\", subject);\r\n\tintent.putExtra(\"sms_body\", message);\r\n\tif (attachment != null)\r\n\t\tintent.putExtra(Intent.EXTRA_STREAM, attachment);\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### email\r\n\r\n```java\r\npublic static Intent email(final Context context, final String[] to, final String [] cc, final String [] bcc, final String subject, final String body, final Uri attachment) {\r\n\tfinal Intent intent = new Intent(Intent.ACTION_SENDTO);\r\n\tintent.setData(Uri.parse(\"mailto:\"));\r\n\tif (to != null)\r\n\t\tintent.putExtra(Intent.EXTRA_EMAIL, to);\r\n\tif (cc != null)\r\n\t\tintent.putExtra(Intent.EXTRA_CC, cc);\r\n\tif (bcc != null)\r\n\t\tintent.putExtra(Intent.EXTRA_BCC, bcc);\r\n\tif (body != null)\r\n\t\tintent.putExtra(Intent.EXTRA_TEXT, body);\r\n\tif (subject != null)\r\n\t\tintent.putExtra(Intent.EXTRA_SUBJECT, subject);\r\n\tif (attachment != null)\r\n\t\tintent.putExtra(Intent.EXTRA_STREAM, attachment);\r\n\tintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### maps\r\n\r\n```java\r\npublic static Intent maps(final Context context, final double lat, final double lng) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"geo:\" + lat + \",\" + lng));\r\n}\r\n```\r\n\r\n```java\r\npublic static Intent maps(final Context context, final double lat, final double lng, final int zoom) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"geo:\" + lat + \",\" + lng + \"?z=\" + zoom));\r\n}\r\n```\r\n\r\n```java\r\npublic static Intent maps(final Context context, final double lat, final double lng, final String label) throws UnsupportedEncodingException {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"geo:0,0?q=\" + lat + \",\" + lng + \"(\" + URLEncoder.encode(label, \"UTF-8\") + \")\"));\r\n}\r\n```\r\n\r\n```java\r\npublic static Intent maps(final Context context, final String query) throws UnsupportedEncodingException {\r\n    return new Intent(Intent.ACTION_VIEW, Uri.parse(\"geo:0,0?q=\" + URLEncoder.encode(query, \"UTF-8\")));\r\n}\r\n```\r\n\r\n### navigation\r\n\r\n```java\r\n/**\r\n * @param mode d: Driving, w: Walking, r: Public transit, b: Biking\r\n */\r\npublic static Intent navigation(final Context context, final String address, final String mode) throws UnsupportedEncodingException {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"google.navigation:q=\" + URLEncoder.encode(address, \"UTF-8\") +( mode == null ? \"\" : (\"&mode=\" + mode))));\r\n}\r\n```\r\n\r\n```java\r\n/**\r\n * @param mode d: Driving, w: Walking, r: Public transit, b: Biking\r\n */\r\npublic static Intent navigate(final Context context, final double lat, final double lng, final String mode) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"google.navigation:q=\" + lat + \",\" + lng + (mode == null ? \"\" : (\"&mode=\" + mode))));\r\n}\r\n```\r\n\r\n### install\r\n\r\n```java\r\npublic static Intent install(final Context context, final Uri file) {\r\n\tfinal Intent intent = new Intent(Intent.ACTION_VIEW);\r\n\tintent.setDataAndType(file, \"application/vnd.android.package-archive\");\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### uninstall\r\n\r\n```java\r\npublic static Intent uninstall(final Context context, final String packageName) {\r\n\treturn new Intent(Intent.ACTION_DELETE, Uri.parse(\"package:\" + packageName));\r\n}\r\n```\r\n\r\n### playStore\r\n\r\n```java\r\npublic static Intent playStore(final Context context, final String packageName) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"market://details?id=\" + packageName));\r\n}\r\n```\r\n\r\n```java\r\npublic static Intent playStore(final Context context, final String publisherName) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"market://search?q=pub:\" + publisherName));\r\n}\r\n```\r\n\r\n```java\r\n/**\r\n * @param category apps, movies, music, newsstand, devices\r\n */\r\npublic static Intent playStore(final Context context, final String search, final String category) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"market://search?q=\" + search + (category == null ? \"\" : (\"&c=\" + category))));\r\n}\r\n```\r\n\r\n```java\r\n/**\r\n * @param collection featured, editors_choice, topselling_paid, topselling_free, topselling_new_free, topselling_new_paid, topgrossing, movers_shakers, topselling_paid_game\r\n */\r\npublic static Intent playStore(final Context context, final String collection) {\r\n\treturn new Intent(Intent.ACTION_VIEW, Uri.parse(\"market://apps/collection/\" + collection));\r\n}\r\n```\r\n\r\n### select contact\r\n\r\n```java\r\npublic static Intent selectContact(final Context context) {\r\n\tfinal Intent intent = new Intent(Intent.ACTION_PICK);\r\n\tintent.setType(ContactsContract.Contacts.CONTENT_TYPE);\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### take picture\r\n\r\n```java\r\npublic static Intent picture(final Context context, final File file) {\r\n\tfinal Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\tintent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(file));\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### take video\r\n\r\n```java\r\npublic static Intent video(final Context context, final File file) {\r\n\tfinal Intent intent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\r\n\tintent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(file));\r\n\treturn intent;\r\n}\r\n```\r\n\r\n### wifi settings\r\n\r\n```java\r\npublic static Intent wifi(final Context context) {\r\n\treturn new Intent(Settings.ACTION_WIFI_SETTINGS);\r\n}\r\n```\r\n\r\nLogcat\r\n------\r\n\r\n### clear\r\n\r\n```java\r\npublic static void clear() {\r\n\ttry {\r\n\t\tRuntime.getRuntime().exec(new String[] { \"logcat\", \"-c\" });\r\n\t} catch (Exception e) {\r\n\t\tLog.e(TAG, \"Failed to clear logcat \" + e.getMessage());\r\n\t}\r\n}\r\n```\r\n\r\n### capture\r\n\r\n```xml\r\n<uses-permission android:name=\"android.permission.READ_LOGS\" />\r\n```\r\n\r\n```java\r\n/**\r\n * @param args More intel on <a href=\"http://developer.android.com/tools/debugging/debugging-log.html\">developer.android.com</a>\r\n */\r\npublic static String logcat(final String[] args) {\r\n\ttry {\r\n\t\tfinal Process process = Runtime.getRuntime().exec(args != null ? args : new String[] { \"logcat\", \"-d\" });\r\n\t\tfinal BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\tfinal String separator = System.getProperty(\"line.separator\");\r\n\t\tfinal StringBuilder sb = new StringBuilder();\r\n\t\tString line;\r\n\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\tsb.append(line).append(separator);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t} catch (Exception e) {\r\n\t\tLog.e(TAG, \"Failed to capture logcat \" + e.getMessage());\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\nNetwork\r\n-------\r\n\r\n### is online\r\n\r\n```xml\r\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n```\r\n\r\n```java\r\npublic static boolean isOnline(final Context context) {\r\n\tfinal NetworkInfo ni = ((ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE)).getActiveNetworkInfo();\r\n\treturn (ni != null && ni.isAvailable() && ni.isConnected());\r\n}\r\n```\r\n\r\n```java\r\n/**\r\n * {@link ConnectivityManager#TYPE_WIFI},\r\n * {@link ConnectivityManager#TYPE_ETHERNET},\r\n * {@link ConnectivityManager#TYPE_MOBILE}, ...\r\n */\r\npublic static boolean isOnline(final Context context, final int type) {\r\n\tfinal NetworkInfo ni = ((ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE)).getNetworkInfo(type);\r\n\treturn ni != null && ni.isAvailable() && ni.isConnected();\r\n}\r\n```\r\n\r\n### enable wifi\r\n\r\n```xml\r\n<uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" />\r\n```\r\n\r\n```java\r\npublic static boolean enableWifi(final Context context, final boolean enable) {\r\n\treturn ((WifiManager) context.getSystemService(Context.WIFI_SERVICE)).setWifiEnabled(enable);\r\n}\r\n```\r\n\r\nUI\r\n---\r\n\r\n### dp2px\r\n\r\n```java\r\npublic static float dp2px(final float dp, final Context context) {\r\n\tfinal DisplayMetrics metrics = context.getResources().getDisplayMetrics();\r\n\treturn dp * metrics.densityDpi / 160f;\r\n}\r\n```\r\n\r\n### px2dp\r\n\r\n```java\r\npublic static float px2dp(final float px, final Context context) {\r\n\tfinal DisplayMetrics metrics = context.getResources().getDisplayMetrics();\r\n\treturn px / (metrics.densityDpi / 160f);\r\n}\r\n```\r\n\r\n### show soft keyboard\r\n\r\n```java\r\npublic static void showSoftKeyboard(final View view, final ResultReceiver resultReceiver) {\r\n\tfinal Configuration config = view.getContext().getResources().getConfiguration();\r\n\tif (config.hardKeyboardHidden == Configuration.HARDKEYBOARDHIDDEN_YES) {\r\n\t\tfinal InputMethodManager imm = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n\t\tif (resultReceiver != null) {\r\n\t\t\timm.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT, resultReceiver);\r\n\t\t} else {\r\n\t\t\timm.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### hide soft keyboard\r\n\r\n```java\r\npublic static void hideSoftKeyboard(final View view) {\r\n\tfinal InputMethodManager imm = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n\timm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n}\r\n```\r\n\r\n### keep screen on\r\n\r\n```java\r\npublic static void keepScreenOn(final Activity activity, final boolean keep) {\r\n\tif (keep) {\r\n\t\tactivity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n\t} else {\r\n\t\tactivity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n\t}\r\n}\r\n```\r\n\r\n### colored drawable\r\n\r\nIntroduced by [@dlew](https://github.com/dlew) on [his blog](http://blog.danlew.net/2014/08/18/fast-android-asset-theming-with-colorfilter/)\r\n\r\n```java\r\npublic static Drawable getColoredDrawable(final Resources res, final int drawableResId, final int color) {\r\n\tfinal Drawable drawable = res.getDrawable(drawableResId);\r\n\tdrawable.setColorFilter(color, PorterDuff.Mode.SRC_IN);\r\n\treturn drawable;\r\n}\r\n```\r\n\r\n### capture view\r\n\r\n```java\r\npublic static Bitmap captureView(final View view) {\r\n\tfinal Bitmap bitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\r\n\tview.draw(new Canvas(bitmap));\r\n\treturn bitmap;\r\n}\r\n```\r\n\r\n### capture layout\r\n\r\n```java\r\npublic static Bitmap captureLayout(final Context context, final int width, final int height, final int layoutResId) {\r\n    final Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n\tfinal Canvas canvas = new Canvas(bitmap);\r\n\tfinal LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\tfinal View view = inflater.inflate(layoutResId, null);\r\n\tview.setDrawingCacheEnabled(true);\r\n\tview.measure(MeasureSpec.makeMeasureSpec(canvas.getWidth(), MeasureSpec.EXACTLY), MeasureSpec.makeMeasureSpec(canvas.getHeight(), MeasureSpec.EXACTLY));\r\n\tview.layout(0, 0, view.getMeasuredWidth(), view.getMeasuredHeight());\r\n\tcanvas.drawBitmap(view.getDrawingCache(), 0, 0, new Paint());\r\n\treturn bitmap;\r\n}\r\n```\r\n\r\n### increase hit rect\r\n\r\n```java\r\npublic static void increaseHitRect(final int top, final int left, final int bottom, final int right, final View delegate) {\r\n\tfinal View parent = (View) delegate.getParent();\r\n\tparent.post(new Runnable() {\r\n\t\tpublic void run() {\r\n\t\t\tfinal Rect r = new Rect();\r\n\t\t\tdelegate.getHitRect(r);\r\n\t\t\tr.top -= top;\r\n\t\t\tr.left -= left;\r\n\t\t\tr.bottom += bottom;\r\n\t\t\tr.right += right;\r\n\t\t\tparent.setTouchDelegate(new TouchDelegate(r, delegate));\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n\r\nOthers\r\n------\r\n\r\n### bytes2size\r\n\r\n```java\r\npublic static String bytes2size(final long size) {\r\n\tif (size <= 0)\r\n\t\treturn \"0\";\r\n\tfinal String[] units = new String[] { \"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" };\r\n\tfinal int digitGroups = (int) (Math.log10(size) / Math.log10(1024));\r\n\treturn new DecimalFormat(\"#,##0.#\").format(size / Math.pow(1024, digitGroups)) + \" \" + units[digitGroups];\r\n}\r\n```\r\n\r\n### small indeterminate progress bar\r\n\r\n```java\r\n<style name=\"Widget.ActionBar.ActivityIndicator\" parent=\"...\">\r\n\t<item name=\"android:minWidth\">48dp</item>\r\n\t<item name=\"android:maxWidth\">48dp</item>\r\n\t<item name=\"android:minHeight\">32dp</item>\r\n\t<item name=\"android:maxHeight\">32dp</item>\r\n</style>\r\n```\r\n\r\n### ActionBar height\r\n\r\n```java\r\npublic static int getActionBarHeight(final Activity activity) {\r\n\tfinal TypedValue value = new TypedValue();\r\n\tactivity.getTheme().resolveAttribute(android.R.attr.actionBarSize, value, true);\r\n\treturn activity.getResources().getDimensionPixelSize(value.resourceId);\r\n}\r\n```\r\n\r\n### ListView padding\r\n\r\n```xml\r\n<ListView\r\n    ...\r\n    android:clipToPadding=\"false\"\r\n    android:scrollbarStyle=\"outsideOverlay\" />\r\n```\r\n\r\nOnline tools\r\n------------\r\n\r\n[Android Asset Studio](http://romannurik.github.io/AndroidAssetStudio) by [@romannurik](https://github.com/romannurik)\r\n\r\n[Android Asset Studio for Material Design](http://shreyasachar.github.io/AndroidAssetStudio) by [@shreyasachar](https://github.com/shreyasachar)\r\n\r\n[Gradle, Please](http://gradleplease.appspot.com) by [@broady](https://github.com/broady)\r\n\r\n[parcelabler](http://www.parcelabler.com) by [@dallasgutauckis](https://github.com/dallasgutauckis)\r\n\r\n[gitignore.io](https://www.gitignore.io)\r\n\r\n[Android Arsenal](http://android-arsenal.com)\r\n\r\n[Cheat Sheet for Graphic Designer](http://petrnohejl.github.io/Android-Cheatsheet-For-Graphic-Designers)\r\n\r\n[SystemUiHelper.java](https://gist.github.com/chrisbanes/73de18faffca571f7292) by [@chrisbanes](https://github.com/chrisbanes)\r\n","google":"UA-26219014-2","note":"Don't delete this file! It's used internally to help with page regeneration."}